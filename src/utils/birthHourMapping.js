/**
 * 12 Canh Giá» (Chinese Hours) Mapping
 * Each hour period is 2 hours, starting from 23:00 (TÃ½)
 */

export const BIRTH_HOURS = [
  {
    id: 'ty',
    name: 'TÃ½',
    diaChi: 'å­',
    timeRange: '23:00 - 01:00',
    startHour: 23,
    endHour: 1,
    emoji: 'ğŸ€',
    element: 'Thá»§y',
    characteristics: 'BÃ­ áº©n, sÃ¡ng táº¡o, nháº¡y bÃ©n trong Ä‘Ãªm khuya',
    energy: 'Ã‚m cá»±c sinh DÆ°Æ¡ng, thá»i kháº¯c chuyá»ƒn giao'
  },
  {
    id: 'suu',
    name: 'Sá»­u',
    diaChi: 'ä¸‘',
    timeRange: '01:00 - 03:00',
    startHour: 1,
    endHour: 3,
    emoji: 'ğŸ‚',
    element: 'Thá»•',
    characteristics: 'KiÃªn nháº«n, chÄƒm chá»‰, bá»n bá»‰',
    energy: 'TÃ­ch lÅ©y nÄƒng lÆ°á»£ng, chuáº©n bá»‹ cho ngÃ y má»›i'
  },
  {
    id: 'dan',
    name: 'Dáº§n',
    diaChi: 'å¯…',
    timeRange: '03:00 - 05:00',
    startHour: 3,
    endHour: 5,
    emoji: 'ğŸ…',
    element: 'Má»™c',
    characteristics: 'DÅ©ng mÃ£nh, tiÃªn phong, quyáº¿t Ä‘oÃ¡n',
    energy: 'DÆ°Æ¡ng khÃ­ báº¯t Ä‘áº§u thÄƒng, thá»i kháº¯c há»• thá»©c giáº¥c'
  },
  {
    id: 'mao',
    name: 'MÃ£o',
    diaChi: 'å¯',
    timeRange: '05:00 - 07:00',
    startHour: 5,
    endHour: 7,
    emoji: 'ğŸ‡',
    element: 'Má»™c',
    characteristics: 'Thanh lá»‹ch, nghá»‡ sÄ©, tinh táº¿',
    energy: 'BÃ¬nh minh, váº¡n váº­t thá»©c tá»‰nh'
  },
  {
    id: 'thin',
    name: 'ThÃ¬n',
    diaChi: 'è¾°',
    timeRange: '07:00 - 09:00',
    startHour: 7,
    endHour: 9,
    emoji: 'ğŸ‰',
    element: 'Thá»•',
    characteristics: 'Quyá»n lá»±c, may máº¯n, tÃ´n quÃ½',
    energy: 'Rá»“ng xuáº¥t hiá»‡n, thá»i kháº¯c cÃ¡t tÆ°á»ng'
  },
  {
    id: 'ty_ran',
    name: 'Tá»µ',
    diaChi: 'å·³',
    timeRange: '09:00 - 11:00',
    startHour: 9,
    endHour: 11,
    emoji: 'ğŸ',
    element: 'Há»a',
    characteristics: 'ThÃ´ng thÃ¡i, bÃ­ áº©n, sÃ¢u sáº¯c',
    energy: 'DÆ°Æ¡ng khÃ­ Ä‘ang thá»‹nh, trÃ­ tuá»‡ minh máº«n'
  },
  {
    id: 'ngo',
    name: 'Ngá»',
    diaChi: 'åˆ',
    timeRange: '11:00 - 13:00',
    startHour: 11,
    endHour: 13,
    emoji: 'ğŸ´',
    element: 'Há»a',
    characteristics: 'NÄƒng Ä‘á»™ng, tá»± do, nhiá»‡t huyáº¿t',
    energy: 'DÆ°Æ¡ng cá»±c, máº·t trá»i Ä‘á»‰nh Ä‘áº§u'
  },
  {
    id: 'mui',
    name: 'MÃ¹i',
    diaChi: 'æœª',
    timeRange: '13:00 - 15:00',
    startHour: 13,
    endHour: 15,
    emoji: 'ğŸ',
    element: 'Thá»•',
    characteristics: 'Nghá»‡ thuáº­t, lÃ£ng máº¡n, dá»‹u dÃ ng',
    energy: 'DÆ°Æ¡ng báº¯t Ä‘áº§u suy, Ã‚m khá»Ÿi sinh'
  },
  {
    id: 'than',
    name: 'ThÃ¢n',
    diaChi: 'ç”³',
    timeRange: '15:00 - 17:00',
    startHour: 15,
    endHour: 17,
    emoji: 'ğŸ’',
    element: 'Kim',
    characteristics: 'ThÃ´ng minh, linh hoáº¡t, sÃ¡ng táº¡o',
    energy: 'KhÃ­ kim thu liá»…m, tÆ° duy sáº¯c bÃ©n'
  },
  {
    id: 'dau',
    name: 'Dáº­u',
    diaChi: 'é…‰',
    timeRange: '17:00 - 19:00',
    startHour: 17,
    endHour: 19,
    emoji: 'ğŸ“',
    element: 'Kim',
    characteristics: 'Ká»· luáº­t, chÃ­nh xÃ¡c, siÃªng nÄƒng',
    energy: 'HoÃ ng hÃ´n, gÃ  vá» chuá»“ng, káº¿t thÃºc ngÃ y'
  },
  {
    id: 'tuat',
    name: 'Tuáº¥t',
    diaChi: 'æˆŒ',
    timeRange: '19:00 - 21:00',
    startHour: 19,
    endHour: 21,
    emoji: 'ğŸ•',
    element: 'Thá»•',
    characteristics: 'Trung thÃ nh, báº£o vá»‡, chÃ­nh trá»±c',
    energy: 'ÄÃªm xuá»‘ng, chÃ³ canh giá»¯'
  },
  {
    id: 'hoi',
    name: 'Há»£i',
    diaChi: 'äº¥',
    timeRange: '21:00 - 23:00',
    startHour: 21,
    endHour: 23,
    emoji: 'ğŸ–',
    element: 'Thá»§y',
    characteristics: 'HÃ o phÃ³ng, thÆ° giÃ£n, hÆ°á»Ÿng thá»¥',
    energy: 'Ã‚m khÃ­ thá»‹nh, váº¡n váº­t nghá»‰ ngÆ¡i'
  }
];

/**
 * Get birth hour from exact time
 * @param {number} hour - Hour in 24h format (0-23)
 * @param {number} minute - Minute (0-59)
 * @returns {object} Birth hour info
 */
export function getBirthHourFromTime(hour, minute = 0) {
  // Handle edge case: 23:00 - 23:59 is TÃ½
  if (hour === 23) return BIRTH_HOURS[0];

  // Handle edge case: 00:00 - 00:59 is also TÃ½
  if (hour === 0) return BIRTH_HOURS[0];

  // For other hours, find the matching period
  for (const birthHour of BIRTH_HOURS) {
    if (birthHour.startHour <= hour && hour < birthHour.endHour) {
      return birthHour;
    }
    // Special handling for ranges that don't cross midnight
    if (birthHour.startHour < birthHour.endHour) {
      if (hour >= birthHour.startHour && hour < birthHour.endHour) {
        return birthHour;
      }
    }
  }

  // Fallback mapping
  const hourIndex = Math.floor(((hour + 1) % 24) / 2);
  return BIRTH_HOURS[hourIndex];
}

/**
 * Time period options for users who don't know exact birth time
 */
export const TIME_PERIODS = [
  { id: 'early_morning', label: 'SÃ¡ng sá»›m (3:00 - 7:00)', defaultHour: 5, hours: ['dan', 'mao'] },
  { id: 'morning', label: 'Buá»•i sÃ¡ng (7:00 - 11:00)', defaultHour: 9, hours: ['thin', 'ty_ran'] },
  { id: 'noon', label: 'Buá»•i trÆ°a (11:00 - 13:00)', defaultHour: 12, hours: ['ngo'] },
  { id: 'afternoon', label: 'Buá»•i chiá»u (13:00 - 17:00)', defaultHour: 15, hours: ['mui', 'than'] },
  { id: 'evening', label: 'Buá»•i tá»‘i (17:00 - 21:00)', defaultHour: 19, hours: ['dau', 'tuat'] },
  { id: 'night', label: 'ÄÃªm khuya (21:00 - 3:00)', defaultHour: 23, hours: ['hoi', 'ty', 'suu'] }
];

/**
 * Vietnamese provinces for birth place selection
 */
export const VIETNAM_PROVINCES = [
  // Miá»n Báº¯c
  { id: 'hanoi', name: 'HÃ  Ná»™i', region: 'north', timezone: '+7' },
  { id: 'haiphong', name: 'Háº£i PhÃ²ng', region: 'north', timezone: '+7' },
  { id: 'quangninh', name: 'Quáº£ng Ninh', region: 'north', timezone: '+7' },
  { id: 'bacninh', name: 'Báº¯c Ninh', region: 'north', timezone: '+7' },
  { id: 'bacgiang', name: 'Báº¯c Giang', region: 'north', timezone: '+7' },
  { id: 'hanam', name: 'HÃ  Nam', region: 'north', timezone: '+7' },
  { id: 'hungyen', name: 'HÆ°ng YÃªn', region: 'north', timezone: '+7' },
  { id: 'haiduong', name: 'Háº£i DÆ°Æ¡ng', region: 'north', timezone: '+7' },
  { id: 'thaibinh', name: 'ThÃ¡i BÃ¬nh', region: 'north', timezone: '+7' },
  { id: 'namdinh', name: 'Nam Äá»‹nh', region: 'north', timezone: '+7' },
  { id: 'ninhbinh', name: 'Ninh BÃ¬nh', region: 'north', timezone: '+7' },
  { id: 'vinhphuc', name: 'VÄ©nh PhÃºc', region: 'north', timezone: '+7' },
  { id: 'phutho', name: 'PhÃº Thá»', region: 'north', timezone: '+7' },
  { id: 'thainguyen', name: 'ThÃ¡i NguyÃªn', region: 'north', timezone: '+7' },
  { id: 'langson', name: 'Láº¡ng SÆ¡n', region: 'north', timezone: '+7' },
  { id: 'caobang', name: 'Cao Báº±ng', region: 'north', timezone: '+7' },
  { id: 'backan', name: 'Báº¯c Káº¡n', region: 'north', timezone: '+7' },
  { id: 'tuyenquang', name: 'TuyÃªn Quang', region: 'north', timezone: '+7' },
  { id: 'hagiang', name: 'HÃ  Giang', region: 'north', timezone: '+7' },
  { id: 'laocai', name: 'LÃ o Cai', region: 'north', timezone: '+7' },
  { id: 'yenbai', name: 'YÃªn BÃ¡i', region: 'north', timezone: '+7' },
  { id: 'sonla', name: 'SÆ¡n La', region: 'north', timezone: '+7' },
  { id: 'dienbien', name: 'Äiá»‡n BiÃªn', region: 'north', timezone: '+7' },
  { id: 'laichau', name: 'Lai ChÃ¢u', region: 'north', timezone: '+7' },
  { id: 'hoabinh', name: 'HÃ²a BÃ¬nh', region: 'north', timezone: '+7' },

  // Miá»n Trung
  { id: 'thanhhoa', name: 'Thanh HÃ³a', region: 'central', timezone: '+7' },
  { id: 'nghean', name: 'Nghá»‡ An', region: 'central', timezone: '+7' },
  { id: 'hatinh', name: 'HÃ  TÄ©nh', region: 'central', timezone: '+7' },
  { id: 'quangbinh', name: 'Quáº£ng BÃ¬nh', region: 'central', timezone: '+7' },
  { id: 'quangtri', name: 'Quáº£ng Trá»‹', region: 'central', timezone: '+7' },
  { id: 'thuathienhue', name: 'Thá»«a ThiÃªn Huáº¿', region: 'central', timezone: '+7' },
  { id: 'danang', name: 'ÄÃ  Náºµng', region: 'central', timezone: '+7' },
  { id: 'quangnam', name: 'Quáº£ng Nam', region: 'central', timezone: '+7' },
  { id: 'quangngai', name: 'Quáº£ng NgÃ£i', region: 'central', timezone: '+7' },
  { id: 'binhdinh', name: 'BÃ¬nh Äá»‹nh', region: 'central', timezone: '+7' },
  { id: 'phuyen', name: 'PhÃº YÃªn', region: 'central', timezone: '+7' },
  { id: 'khanhhoa', name: 'KhÃ¡nh HÃ²a', region: 'central', timezone: '+7' },
  { id: 'ninhthuan', name: 'Ninh Thuáº­n', region: 'central', timezone: '+7' },
  { id: 'binhthuan', name: 'BÃ¬nh Thuáº­n', region: 'central', timezone: '+7' },
  { id: 'kontum', name: 'Kon Tum', region: 'central', timezone: '+7' },
  { id: 'gialai', name: 'Gia Lai', region: 'central', timezone: '+7' },
  { id: 'daklak', name: 'Äáº¯k Láº¯k', region: 'central', timezone: '+7' },
  { id: 'daknong', name: 'Äáº¯k NÃ´ng', region: 'central', timezone: '+7' },
  { id: 'lamdong', name: 'LÃ¢m Äá»“ng', region: 'central', timezone: '+7' },

  // Miá»n Nam
  { id: 'hcm', name: 'TP. Há»“ ChÃ­ Minh', region: 'south', timezone: '+7' },
  { id: 'bariavungtau', name: 'BÃ  Rá»‹a - VÅ©ng TÃ u', region: 'south', timezone: '+7' },
  { id: 'dongnai', name: 'Äá»“ng Nai', region: 'south', timezone: '+7' },
  { id: 'binhduong', name: 'BÃ¬nh DÆ°Æ¡ng', region: 'south', timezone: '+7' },
  { id: 'binhphuoc', name: 'BÃ¬nh PhÆ°á»›c', region: 'south', timezone: '+7' },
  { id: 'tayninh', name: 'TÃ¢y Ninh', region: 'south', timezone: '+7' },
  { id: 'longAn', name: 'Long An', region: 'south', timezone: '+7' },
  { id: 'tiengiang', name: 'Tiá»n Giang', region: 'south', timezone: '+7' },
  { id: 'bentre', name: 'Báº¿n Tre', region: 'south', timezone: '+7' },
  { id: 'travinh', name: 'TrÃ  Vinh', region: 'south', timezone: '+7' },
  { id: 'vinhlong', name: 'VÄ©nh Long', region: 'south', timezone: '+7' },
  { id: 'dongthap', name: 'Äá»“ng ThÃ¡p', region: 'south', timezone: '+7' },
  { id: 'angiang', name: 'An Giang', region: 'south', timezone: '+7' },
  { id: 'kiengiang', name: 'KiÃªn Giang', region: 'south', timezone: '+7' },
  { id: 'cantho', name: 'Cáº§n ThÆ¡', region: 'south', timezone: '+7' },
  { id: 'haugiang', name: 'Háº­u Giang', region: 'south', timezone: '+7' },
  { id: 'soctrang', name: 'SÃ³c TrÄƒng', region: 'south', timezone: '+7' },
  { id: 'baclieu', name: 'Báº¡c LiÃªu', region: 'south', timezone: '+7' },
  { id: 'camau', name: 'CÃ  Mau', region: 'south', timezone: '+7' }
];

export default { BIRTH_HOURS, getBirthHourFromTime, TIME_PERIODS, VIETNAM_PROVINCES };
